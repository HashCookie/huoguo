# 🚀 部署到 GitHub Actions

## 步骤 1：提交代码

```bash
# 添加所有文件
git add .

# 提交（包括数据文件）
git commit -m "🚀 初始化火锅排队数据采集系统

- 添加数据采集脚本（每 10 秒一次）
- 配置 GitHub Actions 自动化（每天 17:00-22:00）
- 添加数据查看工具
- 初始数据文件"

# 推送到 GitHub
git push origin main
```

## 步骤 2：验证 GitHub Actions

1. 访问你的 GitHub 仓库
2. 点击 `Actions` 标签页
3. 你应该能看到 "朱富贵排队数据采集" workflow

## 步骤 3：测试手动运行

1. 在 Actions 页面，点击 "朱富贵排队数据采集"
2. 点击右上角的 "Run workflow"
3. 选择 branch (main)，点击绿色的 "Run workflow" 按钮
4. 等待几秒，刷新页面，你会看到运行中的任务

## 步骤 4：查看运行日志

1. 点击运行中的任务
2. 点击 "collect-queue-data" job
3. 展开各个步骤查看详细日志
4. 你应该能看到实时采集的排队数据

## 步骤 5：验证数据提交

运行完成后：
1. 检查仓库中的 `data/snapshots/` 目录
2. 应该能看到新的数据文件或更新的文件
3. 查看最新的 commit，应该是 Actions bot 自动提交的

## ⏰ 自动运行时间表

- **触发时间**: 每天北京时间 17:00 (UTC 09:00)
- **运行时长**: 5 小时
- **采集频率**: 每 10 秒一次
- **预计记录数**: 约 1800 条/天 (5小时 × 360次/小时)

## 🔧 调整运行时间

编辑 `.github/workflows/collect-data.yml`：

```yaml
# 修改 cron 表达式
schedule:
  - cron: '0 9 * * *'  # UTC 09:00 = 北京 17:00
```

参考：
- `0 9 * * *` - 每天 UTC 09:00 (北京 17:00)
- `0 8 * * *` - 每天 UTC 08:00 (北京 16:00)
- `0 10 * * *` - 每天 UTC 10:00 (北京 18:00)

## 🔧 调整运行时长

编辑 `.github/workflows/collect-data.yml`：

```yaml
- name: 运行数据采集（5小时）
  env:
    MAX_RUNTIME_HOURS: 5  # 修改这里的数字
```

## ❓ 常见问题

### Q: 为什么 Actions 没有自动运行？
A: 
- 检查仓库是否已推送到 GitHub
- 确认 `.github/workflows/collect-data.yml` 文件已提交
- 首次添加 workflow 需要等待触发时间到达

### Q: 如何停止正在运行的任务？
A:
1. 进入 Actions 页面
2. 点击正在运行的任务
3. 点击右上角的 "Cancel workflow"

### Q: 数据文件会占用多少空间？
A:
- 每条记录约 1-2KB
- 每天约 1800 条记录
- 预计每天 3-4MB
- 一个月约 90-120MB

### Q: GitHub Actions 有使用限制吗？
A:
- 公共仓库：免费无限制
- 私有仓库：每月 2000 分钟免费
- 本项目每天运行 300 分钟（5小时）
- 可支持约 6-7 天的私有仓库使用

## 🎯 下一步

数据采集启动后，建议：
1. 运行 3-7 天积累足够的历史数据
2. 观察不同时间段的排队规律
3. 开始进行数据分析（阶段二）
